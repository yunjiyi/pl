# wrangler.toml 配置文件示例
# 用于 Cloudflare Workers 部署 Twikoo 评论系统

# Worker 的名字，可以随意修改，但必须存在
name = "pl"

# Worker 的入口文件路径，通常是 src/index.js
main = "src/index.js"

# 开启 Node.js 兼容模式，Twikoo 依赖此功能，必须保留
compatibility_flags = ["nodejs_compat"]

# 指定兼容性日期，建议保持最新日期，确保运行环境稳定
compatibility_date = "2025-12-09"

# -------------------------------
# D1 数据库配置
# -------------------------------
[[d1_databases]]
# 在 Worker 中绑定的名字，代码里通过 env.DB 访问
binding = "DB"

# 数据库名称，可以保持默认 "twikoo"，也可以改成你在 Cloudflare 创建时的名字
database_name = "twikoo"

# 数据库 ID，必须替换为你在 Cloudflare Dashboard 创建的 D1 数据库的实际 ID
database_id = "9fd6370c-d9a5-405b-bfa0-c67da8e25ac0"

# -------------------------------
# R2 存储桶配置
# -------------------------------
[[r2_buckets]]
# 在 Worker 中绑定的名字，代码里通过 env.R2 访问
binding = "R2"

# 存储桶名称，可以保持默认 "twikoo"，也可以改成你在 Cloudflare R2 创建时的名字
bucket_name = "twikoo"

# -------------------------------
# 环境变量配置
# -------------------------------
[vars]
# R2 存储桶绑定的公开访问域名，必须替换为你实际绑定的域名
R2_PUBLIC_URL = "https://pinglun.cti.pp.ua"

# -------------------------------
# 本地开发配置
# -------------------------------
[dev]
# 本地开发时的端口号，可以保持默认
port = 5000
